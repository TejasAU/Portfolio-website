{"version":3,"file":"index.js","sources":["../src/constants.ts","../src/hooks/useColorScheme.ts","../src/hooks/usePrefersReducedMotion.ts","../node_modules/.pnpm/style-inject@0.3.0/node_modules/style-inject/dist/style-inject.es.js","../src/utils/calendar.ts","../src/utils/theme.ts","../src/component/ActivityCalendar.tsx"],"sourcesContent":["export const NAMESPACE = 'react-activity-calendar';\nexport const LABEL_MARGIN = 8; // px\n\nexport const DEFAULT_MONTH_LABELS = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n];\n\nexport const DEFAULT_LABELS = {\n  months: DEFAULT_MONTH_LABELS,\n  weekdays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  totalCount: '{{count}} activities in {{year}}',\n  legend: {\n    less: 'Less',\n    more: 'More',\n  },\n};\n","import { useEffect, useState } from 'react';\n\nexport function useColorScheme() {\n  const [colorScheme, setColorScheme] = useState<'light' | 'dark'>('light');\n\n  const onChange = (event: MediaQueryListEvent) => setColorScheme(event.matches ? 'dark' : 'light');\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n    setColorScheme(mediaQuery.matches ? 'dark' : 'light');\n\n    mediaQuery.addEventListener('change', onChange);\n\n    return () => {\n      mediaQuery.removeEventListener('change', onChange);\n    };\n  }, []);\n\n  return colorScheme;\n}\n","import { useEffect, useState } from 'react';\n\nconst query = '(prefers-reduced-motion: reduce)';\n\nexport function usePrefersReducedMotion() {\n  const [prefersReducedMotion, setPrefersReducedMotion] = useState(true);\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    setPrefersReducedMotion(mediaQuery.matches);\n\n    const onChange = (event: MediaQueryListEvent) => {\n      setPrefersReducedMotion(event.matches);\n    };\n\n    mediaQuery.addEventListener('change', onChange);\n\n    return () => {\n      mediaQuery.removeEventListener('change', onChange);\n    };\n  }, []);\n\n  return prefersReducedMotion;\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import type { Day as WeekDay } from 'date-fns';\nimport {\n  differenceInCalendarDays,\n  eachDayOfInterval,\n  endOfYear,\n  formatISO,\n  getDay,\n  getMonth,\n  nextDay,\n  parseISO,\n  startOfYear,\n  subWeeks,\n} from 'date-fns';\n\nimport { DEFAULT_MONTH_LABELS, NAMESPACE } from '../constants';\nimport { Activity, Level, Week } from '../types';\n\ninterface MonthLabel {\n  weekIndex: number;\n  label: string;\n}\n\nexport function groupByWeeks(\n  activities: Array<Activity>,\n  weekStart: WeekDay = 0, // 0 = Sunday\n): Array<Week> {\n  if (activities.length === 0) {\n    return [];\n  }\n\n  const normalizedActivities = fillHoles(activities);\n\n  // Determine the first date of the calendar. If the first date is not the\n  // set start weekday, the selected weekday one week earlier is used.\n  const firstDate = parseISO(normalizedActivities[0].date);\n  const firstCalendarDate =\n    getDay(firstDate) === weekStart ? firstDate : subWeeks(nextDay(firstDate, weekStart), 1);\n\n  // To correctly group activities by week, it is necessary to left-pad the list\n  // because the first date might not be set start weekday.\n  const paddedActivities = [\n    ...Array(differenceInCalendarDays(firstDate, firstCalendarDate)).fill(undefined),\n    ...normalizedActivities,\n  ];\n\n  const numberOfWeeks = Math.ceil(paddedActivities.length / 7);\n\n  // Finally, group activities by week\n  return Array(numberOfWeeks)\n    .fill(undefined)\n    .map((_, weekIndex) => paddedActivities.slice(weekIndex * 7, weekIndex * 7 + 7));\n}\n\n/**\n * The calendar expects a continuous sequence of days,\n * so fill gaps with empty activity data.\n */\nfunction fillHoles(activities: Array<Activity>): Array<Activity> {\n  const dateMap: Record<string, Activity> = {};\n  for (const activity of activities) {\n    dateMap[activity.date] = activity;\n  }\n\n  return eachDayOfInterval({\n    start: parseISO(activities[0].date),\n    end: parseISO(activities[activities.length - 1].date),\n  }).map(day => {\n    const date = formatISO(day, { representation: 'date' });\n\n    if (dateMap[date]) {\n      return dateMap[date];\n    }\n\n    return {\n      date,\n      count: 0,\n      level: 0,\n    };\n  });\n}\n\nexport function getMonthLabels(\n  weeks: Array<Week>,\n  monthNames: Array<string> = DEFAULT_MONTH_LABELS,\n): Array<MonthLabel> {\n  return weeks\n    .reduce<Array<MonthLabel>>((labels, week, weekIndex) => {\n      const firstActivity = week.find(activity => activity !== undefined);\n\n      if (!firstActivity) {\n        throw new Error(`Unexpected error: Week ${weekIndex + 1} is empty: [${week}].`);\n      }\n\n      const month = monthNames[getMonth(parseISO(firstActivity.date))];\n      const prevLabel = labels[labels.length - 1];\n\n      if (weekIndex === 0 || prevLabel.label !== month) {\n        return [...labels, { weekIndex, label: month }];\n      }\n\n      return labels;\n    }, [])\n    .filter(({ weekIndex }, index, labels) => {\n      // Labels should only be shown if there is \"enough\" space (data).\n      // This is a naive implementation that does not take the block size,\n      // font size etc. into account.\n      const minWeeks = 3;\n\n      // Skip the first month label if there is not enough space to the next one.\n      if (index === 0) {\n        return labels[1] && labels[1].weekIndex - weekIndex >= minWeeks;\n      }\n\n      // Skip the last month label the there is not enough data in that month to\n      // avoid overflowing the calendar on the right.\n      if (index === labels.length - 1) {\n        return weeks.slice(weekIndex).length >= minWeeks;\n      }\n\n      return true;\n    });\n}\n\nexport function getClassName(name: string, styles?: string): string {\n  if (styles) {\n    return `${NAMESPACE}__${name} ${styles}`;\n  }\n\n  return `${NAMESPACE}__${name}`;\n}\n\nexport function generateEmptyData(): Array<Activity> {\n  const year = new Date().getFullYear();\n  const days = eachDayOfInterval({\n    start: new Date(year, 0, 1),\n    end: new Date(year, 11, 31),\n  });\n\n  return days.map(date => ({\n    date: formatISO(date, { representation: 'date' }),\n    count: 0,\n    level: 0,\n  }));\n}\n\nexport function generateData(args: {\n  interval?: { start: Date; end: Date };\n  maxLevel?: number;\n}): Array<Activity> {\n  const maxCount = 20;\n  const maxLevel = args.maxLevel ? Math.max(1, args.maxLevel) : 4;\n  const now = new Date();\n\n  const days = eachDayOfInterval(\n    args.interval ?? {\n      start: startOfYear(now),\n      end: endOfYear(now),\n    },\n  );\n\n  return days.map(date => {\n    // The random activity count is shifted by up to 80% towards zero.\n    const c = Math.round(Math.random() * maxCount - Math.random() * (0.8 * maxCount));\n    const count = Math.max(0, c);\n    const level = Math.ceil((count / maxCount) * maxLevel) as Level;\n\n    return {\n      date: formatISO(date, { representation: 'date' }),\n      count,\n      level,\n    };\n  });\n}\n\nexport function maxWeekdayLabelLength(\n  firstWeek: Week,\n  weekStart: number,\n  labels: string[],\n  fontSize: number,\n): number {\n  return firstWeek.reduce((maxLength, _, index) => {\n    if (index % 2 !== 0) {\n      const dayIndex = (index + weekStart) % 7;\n      const curLength = Math.ceil(calcTextDimensions(labels[dayIndex], fontSize).width);\n\n      return Math.max(maxLength, curLength);\n    }\n\n    return maxLength;\n  }, 0);\n}\n\nfunction calcTextDimensions(text: string, fontSize: number) {\n  if (typeof document === 'undefined' || typeof window === 'undefined') {\n    throw new Error('calcTextDimensions() requires browser APIs');\n  }\n\n  if (fontSize < 1) {\n    throw new RangeError('fontSize must be positive');\n  }\n\n  if (text.length === 0) {\n    return { width: 0, height: 0 };\n  }\n\n  const namespace = 'http://www.w3.org/2000/svg';\n  const svg = document.createElementNS(namespace, 'svg');\n\n  svg.style.position = 'absolute';\n  svg.style.visibility = 'hidden';\n  svg.style.fontFamily = window.getComputedStyle(document.body).fontFamily;\n  svg.style.fontSize = `${fontSize}px`;\n\n  const textNode = document.createElementNS(namespace, 'text');\n  textNode.textContent = text;\n\n  svg.appendChild(textNode);\n  document.body.appendChild(svg);\n  const boundingBox = textNode.getBBox();\n\n  document.body.removeChild(svg);\n\n  return { width: boundingBox.width, height: boundingBox.height };\n}\n","import chroma from 'chroma-js';\n\nimport { Color, ColorScale, Theme, ThemeInput } from '../types';\n\nexport function createTheme(input?: ThemeInput, size: number = 5): Theme {\n  const defaultTheme = createDefaultTheme(size);\n\n  if (input) {\n    validateTheme(input, size);\n\n    input.light = input.light ?? defaultTheme.light;\n    input.dark = input.dark ?? defaultTheme.dark;\n\n    return {\n      light: isColorScale(input.light, size) ? input.light : createColorScale(input.light, size),\n      dark: isColorScale(input.dark, size) ? input.dark : createColorScale(input.dark, size),\n    };\n  }\n\n  return defaultTheme;\n}\n\nfunction createDefaultTheme(size: number): Theme {\n  return {\n    light: createColorScale(['hsl(0, 0%, 92%)', 'hsl(0, 0%, 26%)'], size),\n    dark: createColorScale(['hsl(0, 0%, 20%)', 'hsl(0, 0%, 92%)'], size),\n  };\n}\n\nfunction validateTheme(input: ThemeInput, size: number) {\n  if (typeof input !== 'object' || (input.light === undefined && input.dark === undefined)) {\n    throw new Error(\n      `The theme object must contain at least one of the fields \"light\" and \"dark\" with exactly 2 or ${size} colors respectively.`,\n    );\n  }\n\n  if (input.light) {\n    const { length } = input.light;\n    if (length !== 2 && length !== size) {\n      throw new Error(\n        `theme.light must contain exactly 2 or ${size} colors, ${length as number} passed.`,\n      );\n    }\n  }\n\n  if (input.dark) {\n    const { length } = input.dark;\n    if (length !== 2 && length !== size) {\n      throw new Error(\n        `theme.dark must contain exactly 2 or ${size} colors, ${length as number} passed.`,\n      );\n    }\n  }\n}\n\nfunction isColorScale(colors: Array<unknown>, size: number): colors is ColorScale {\n  const invalidColor = colors.find(color => !chroma.valid(color));\n\n  if (invalidColor) {\n    throw new Error(`Invalid color \"${invalidColor}\" passed. All CSS color formats are accepted.`);\n  }\n\n  return colors.length === size;\n}\n\nfunction createColorScale(colors: [from: Color, to: Color], size: number): ColorScale {\n  return chroma.scale(colors).mode('lch').colors(size);\n}\n","import chroma from 'chroma-js';\nimport type { Day as WeekDay } from 'date-fns';\nimport { getYear, parseISO } from 'date-fns';\nimport React, { CSSProperties, Fragment, FunctionComponent, ReactElement } from 'react';\n\nimport { DEFAULT_LABELS, LABEL_MARGIN, NAMESPACE } from '../constants';\nimport { useColorScheme } from '../hooks/useColorScheme';\nimport { usePrefersReducedMotion } from '../hooks/usePrefersReducedMotion';\nimport styles from '../styles/styles.module.css';\nimport {\n  Activity,\n  BlockElement,\n  EventHandlerMap,\n  Labels,\n  ReactEvent,\n  SVGRectEventHandler,\n  ThemeInput,\n} from '../types';\nimport {\n  generateEmptyData,\n  getClassName,\n  getMonthLabels,\n  groupByWeeks,\n  maxWeekdayLabelLength,\n} from '../utils/calendar';\nimport { createTheme } from '../utils/theme';\n\nexport interface Props {\n  /**\n   * List of calendar entries. Every `Activity` object requires an ISO 8601\n   * `date` string in the format `yyyy-MM-dd`, a `count` property with the\n   * amount of tracked data and a `level` property in the range `0-maxLevel`\n   * to specify activity intensity. The `maxLevel` prop is 4 by default.\n   *\n   * For missing dates, no activity is assumed. This allows choosing the start\n   * and end date of the calendar arbitrarily by passing empty entries as the\n   * first and last item.\n   *\n   * Example object:\n   *\n   * ```json\n   * {\n   *   date: \"2021-02-20\",\n   *   count: 16,\n   *   level: 3\n   * }\n   * ```\n   */\n  data: Array<Activity>;\n  /**\n   * Margin between blocks in pixels.\n   */\n  blockMargin?: number;\n  /**\n   * Border radius of blocks in pixels.\n   */\n  blockRadius?: number;\n  /**\n   * Block size in pixels.\n   */\n  blockSize?: number;\n  /**\n   * Use a specific color scheme instead of the system one. Supported values\n   * are `'light'` and `'dark'`.\n   */\n  colorScheme?: 'light' | 'dark';\n  /**\n   * Event handlers to register for the SVG `<rect>` elements that are used to\n   * render the calendar days. Handler signature: `event => activity => void`\n   */\n  eventHandlers?: EventHandlerMap;\n  /**\n   * Font size for text in pixels.\n   */\n  fontSize?: number;\n  /**\n   * Toggle to hide color legend below calendar.\n   */\n  hideColorLegend?: boolean;\n  /**\n   * Toggle to hide month labels above calendar.\n   */\n  hideMonthLabels?: boolean;\n  /**\n   * Toggle to hide the total count below calendar.\n   */\n  hideTotalCount?: boolean;\n  /**\n   * Localization strings for all calendar labels.\n   *\n   * `totalCount` supports the placeholders `{{count}}` and `{{year}}`.\n   */\n  labels?: Labels;\n  /**\n   * Maximum activity level (zero indexed).\n   */\n  maxLevel?: number;\n  /**\n   * Toggle for loading state. `data` property will be ignored if set.\n   */\n  loading?: boolean;\n  /**\n   * Render prop for calendar blocks (activities). For example, useful to wrap\n   * the element with a tooltip component. Use `React.cloneElement` to pass\n   * additional props to the element if necessary.\n   */\n  renderBlock?: (block: BlockElement, activity: Activity) => ReactElement;\n  /**\n   * Toggle to show weekday labels left to the calendar.\n   */\n  showWeekdayLabels?: boolean;\n  /**\n   * Style object to pass to component container.\n   */\n  style?: CSSProperties;\n  /**\n   * Set the calendar colors for the light and dark system color scheme.\n   * Define each color scale explicitly by settings all colors (5 per default)\n   * or pass exactly two colors (the lowest and highest intensity) to calculate\n   * a single-hue scale. Colors can be specified in any valid CSS format.\n   *\n   * The colors for at least one scheme must be set. If undefined, the default\n   * theme is used. By default, the calendar will select the current system color\n   * scheme, but you can enforce a specific scheme with the `colorScheme` prop.\n   *\n   * Example:\n   *\n   * ```tsx\n   * <ActivityCalendar\n   *   data={data}\n   *   theme={{\n   *     light: ['hsl(0, 0%, 92%)', 'firebrick'],\n   *     dark: ['#333', 'rgb(214, 16, 174)'],\n   *   }}\n   * />\n   * ```\n   *\n   */\n  theme?: ThemeInput;\n  /**\n   * Overwrite the total activity count.\n   */\n  totalCount?: number;\n  /**\n   * Index of day to be used as start of week. 0 represents Sunday.\n   */\n  weekStart?: WeekDay;\n}\n\nconst ActivityCalendar: FunctionComponent<Props> = ({\n  data,\n  blockMargin = 4,\n  blockRadius = 2,\n  blockSize = 12,\n  colorScheme = undefined,\n  eventHandlers = {},\n  fontSize = 14,\n  hideColorLegend = false,\n  hideMonthLabels = false,\n  hideTotalCount = false,\n  labels: labelsProp = undefined,\n  maxLevel = 4,\n  loading = false,\n  renderBlock = undefined,\n  showWeekdayLabels = false,\n  style: styleProp = {},\n  theme: themeProp = undefined,\n  totalCount: totalCountProp = undefined,\n  weekStart = 0, // Sunday\n}: Props) => {\n  maxLevel = Math.max(1, maxLevel);\n\n  const theme = createTheme(themeProp, maxLevel + 1);\n  const systemColorScheme = useColorScheme();\n  const colorScale = theme[colorScheme ?? systemColorScheme];\n\n  const useAnimation = !usePrefersReducedMotion();\n\n  if (loading) {\n    data = generateEmptyData();\n  }\n\n  if (data.length === 0) {\n    return null;\n  }\n\n  const year = getYear(parseISO(data[0]?.date));\n  const weeks = groupByWeeks(data, weekStart);\n\n  const labels = Object.assign({}, DEFAULT_LABELS, labelsProp);\n  const labelHeight = hideMonthLabels ? 0 : fontSize + LABEL_MARGIN;\n\n  const weekdayLabelOffset = showWeekdayLabels\n    ? maxWeekdayLabelLength(weeks[0], weekStart, labels.weekdays, fontSize) + LABEL_MARGIN\n    : undefined;\n\n  function getDimensions() {\n    return {\n      width: weeks.length * (blockSize + blockMargin) - blockMargin,\n      height: labelHeight + (blockSize + blockMargin) * 7 - blockMargin,\n    };\n  }\n\n  function getEventHandlers(activity: Activity): SVGRectEventHandler {\n    return (\n      Object.keys(eventHandlers) as Array<keyof SVGRectEventHandler>\n    ).reduce<SVGRectEventHandler>(\n      (handlers, key) => ({\n        ...handlers,\n        [key]: (event: ReactEvent<SVGRectElement>) => eventHandlers[key]?.(event)(activity),\n      }),\n      {},\n    );\n  }\n\n  function renderCalendar() {\n    return weeks\n      .map((week, weekIndex) =>\n        week.map((activity, dayIndex) => {\n          if (!activity) {\n            return null;\n          }\n\n          if (activity.level < 0 || activity.level > maxLevel) {\n            throw new RangeError(\n              `Provided activity level ${activity.level} for ${activity.date} is out of range. It must be between 0 and ${maxLevel}.`,\n            );\n          }\n\n          const style =\n            loading && useAnimation\n              ? {\n                  animation: `${styles.loadingAnimation} 1.75s ease-in-out infinite`,\n                  animationDelay: `${weekIndex * 20 + dayIndex * 20}ms`,\n                }\n              : undefined;\n\n          const block = (\n            <rect\n              {...getEventHandlers(activity)}\n              x={0}\n              y={labelHeight + (blockSize + blockMargin) * dayIndex}\n              width={blockSize}\n              height={blockSize}\n              rx={blockRadius}\n              ry={blockRadius}\n              fill={colorScale[activity.level]}\n              data-date={activity.date}\n              data-level={activity.level}\n              style={style}\n            />\n          );\n\n          return (\n            <Fragment key={activity.date}>\n              {renderBlock ? renderBlock(block, activity) : block}\n            </Fragment>\n          );\n        }),\n      )\n      .map((week, x) => (\n        <g key={x} transform={`translate(${(blockSize + blockMargin) * x}, 0)`}>\n          {week}\n        </g>\n      ));\n  }\n\n  function renderFooter() {\n    if (hideTotalCount && hideColorLegend) {\n      return null;\n    }\n\n    const totalCount =\n      typeof totalCountProp === 'number'\n        ? totalCountProp\n        : data.reduce((sum, activity) => sum + activity.count, 0);\n\n    return (\n      <footer\n        className={getClassName('footer', styles.footer)}\n        style={{ marginLeft: weekdayLabelOffset }}\n      >\n        {/* Placeholder */}\n        {loading && <div>&nbsp;</div>}\n\n        {!loading && !hideTotalCount && (\n          <div className={getClassName('count')}>\n            {labels.totalCount\n              ? labels.totalCount\n                  .replace('{{count}}', String(totalCount))\n                  .replace('{{year}}', String(year))\n              : `${totalCount} activities in ${year}`}\n          </div>\n        )}\n\n        {!loading && !hideColorLegend && (\n          <div className={getClassName('legend-colors', styles.legendColors)}>\n            <span style={{ marginRight: '0.4em' }}>{labels?.legend?.less ?? 'Less'}</span>\n            {Array(maxLevel + 1)\n              .fill(undefined)\n              .map((_, level) => (\n                <svg width={blockSize} height={blockSize} key={level}>\n                  <rect\n                    width={blockSize}\n                    height={blockSize}\n                    fill={colorScale[level]}\n                    rx={blockRadius}\n                    ry={blockRadius}\n                  />\n                </svg>\n              ))}\n            <span style={{ marginLeft: '0.4em' }}>{labels?.legend?.more ?? 'More'}</span>\n          </div>\n        )}\n      </footer>\n    );\n  }\n\n  function renderLabels() {\n    if (!showWeekdayLabels && hideMonthLabels) {\n      return null;\n    }\n\n    return (\n      <>\n        {showWeekdayLabels && (\n          <g className={getClassName('legend-weekday')}>\n            {weeks[0].map((_, index) => {\n              if (index % 2 === 0) {\n                return null;\n              }\n\n              const dayIndex = (index + weekStart) % 7;\n\n              return (\n                <text\n                  x={-LABEL_MARGIN}\n                  y={labelHeight + (blockSize + blockMargin) * index + blockSize / 2}\n                  dominantBaseline=\"middle\"\n                  textAnchor=\"end\"\n                  key={index}\n                >\n                  {labels.weekdays[dayIndex]}\n                </text>\n              );\n            })}\n          </g>\n        )}\n        {!hideMonthLabels && (\n          <g className={getClassName('legend-month')}>\n            {getMonthLabels(weeks, labels.months).map(({ label, weekIndex }) => (\n              <text\n                x={(blockSize + blockMargin) * weekIndex}\n                dominantBaseline=\"hanging\"\n                key={weekIndex}\n              >\n                {label}\n              </text>\n            ))}\n          </g>\n        )}\n      </>\n    );\n  }\n\n  const { width, height } = getDimensions();\n\n  const containerStyles = {\n    fontSize,\n    ...(useAnimation && {\n      [`--${NAMESPACE}-loading`]: colorScale[0],\n      [`--${NAMESPACE}-loading-active`]:\n        colorScheme === 'light'\n          ? chroma(colorScale[0]).darken(0.3).hex()\n          : chroma(colorScale[0]).brighten(0.25).hex(),\n    }),\n  };\n\n  return (\n    <article\n      className={`${NAMESPACE} ${styles.container}`}\n      style={{ ...styleProp, ...containerStyles }}\n    >\n      <div className={getClassName('scroll-container', styles.scrollContainer)}>\n        <svg\n          width={width}\n          height={height}\n          viewBox={`0 0 ${width} ${height}`}\n          className={getClassName('calendar', styles.calendar)}\n          style={{ marginLeft: weekdayLabelOffset }}\n        >\n          {!loading && renderLabels()}\n          {renderCalendar()}\n        </svg>\n      </div>\n      {renderFooter()}\n    </article>\n  );\n};\n\nexport const Skeleton: FunctionComponent<Omit<Props, 'data'>> = props => (\n  <ActivityCalendar data={[]} {...props} />\n);\n\nexport default ActivityCalendar;\n"],"names":["NAMESPACE","LABEL_MARGIN","DEFAULT_MONTH_LABELS","DEFAULT_LABELS","months","weekdays","totalCount","legend","less","more","useColorScheme","colorScheme","setColorScheme","useState","onChange","event","matches","useEffect","mediaQuery","window","matchMedia","addEventListener","removeEventListener","query","usePrefersReducedMotion","prefersReducedMotion","setPrefersReducedMotion","groupByWeeks","activities","weekStart","length","normalizedActivities","fillHoles","firstDate","parseISO","date","firstCalendarDate","getDay","subWeeks","nextDay","paddedActivities","Array","differenceInCalendarDays","fill","undefined","numberOfWeeks","Math","ceil","map","_","weekIndex","slice","dateMap","activity","eachDayOfInterval","start","end","day","formatISO","representation","count","level","getMonthLabels","weeks","monthNames","reduce","labels","week","firstActivity","find","Error","month","getMonth","prevLabel","label","filter","index","minWeeks","getClassName","name","styles","generateEmptyData","year","Date","getFullYear","days","maxWeekdayLabelLength","firstWeek","fontSize","maxLength","dayIndex","curLength","calcTextDimensions","width","max","text","document","RangeError","height","namespace","svg","createElementNS","style","position","visibility","fontFamily","getComputedStyle","body","textNode","textContent","appendChild","boundingBox","getBBox","removeChild","createTheme","input","size","defaultTheme","createDefaultTheme","validateTheme","light","dark","isColorScale","createColorScale","colors","invalidColor","color","chroma","valid","scale","mode","ActivityCalendar","data","blockMargin","blockRadius","blockSize","eventHandlers","hideColorLegend","hideMonthLabels","hideTotalCount","labelsProp","maxLevel","loading","renderBlock","showWeekdayLabels","styleProp","theme","themeProp","totalCountProp","systemColorScheme","colorScale","useAnimation","getYear","Object","assign","labelHeight","weekdayLabelOffset","getDimensions","getEventHandlers","keys","handlers","key","renderCalendar","animation","loadingAnimation","animationDelay","block","React","createElement","_extends","x","y","rx","ry","Fragment","transform","renderFooter","sum","className","footer","marginLeft","replace","String","legendColors","marginRight","renderLabels","dominantBaseline","textAnchor","containerStyles","darken","hex","brighten","container","scrollContainer","viewBox","calendar","Skeleton","props"],"mappings":"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","x_google_ignoreList":[3]}